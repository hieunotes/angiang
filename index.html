<!DOCTYPE html>
<html lang="vi">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  
  <!-- Primary Meta Tags -->
  <title>Lịch Cúp Điện An Giang | Thông tin chính thức</title>
  <meta name="title" content="Lịch Cúp Điện An Giang - Thông tin chính thức" />
  <meta name="description" content="Cập nhật lịch tạm ngừng cung cấp điện Điện lực An Giang mới nhất, chính xác và đầy đủ." />

  <!-- Open Graph / Facebook -->
  <meta property="og:type" content="website" />
  <meta property="og:title" content="Lịch Cúp Điện An Giang - Thông tin chính thức" />
  <meta property="og:description" content="Cập nhật lịch tạm ngừng cung cấp điện Điện lực An Giang mới nhất, chính xác và đầy đủ." />
  <meta property="og:image" content="https://og-image-craigary.vercel.app/**L%E1%BB%8Bch%20C%C3%BAp%20%C4%90i%E1%BB%87n%20An%20Giang**.png?theme=light&md=1&fontSize=100px" />

  <!-- Twitter -->
  <meta property="twitter:card" content="summary_large_image" />
  <meta property="twitter:title" content="Lịch Cúp Điện An Giang - Thông tin chính thức" />
  <meta property="twitter:description" content="Cập nhật lịch tạm ngừng cung cấp điện Điện lực An Giang mới nhất, chính xác và đầy đủ." />
  <meta property="twitter:image" content="https://og-image-craigary.vercel.app/**L%E1%BB%8Bch%20C%C3%BAp%20%C4%90i%E1%BB%87n%20An%20Giang**.png?theme=light&md=1&fontSize=100px" />

  <!-- Favicon -->
  <link href="favicon.ico" rel="icon" type="image/x-icon">

  <!-- Font -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Be+Vietnam+Pro:wght@100;200;300;400;500;600;700;800;900&family=Montserrat:wght@300;400;500;600;700&display=swap" rel="stylesheet">

  <!-- Bootstrap CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">

  <!-- Font Awesome -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

  <style>
    :root {
      --primary-color: #1a237e;
      --secondary-color: #3949ab;
      --accent-color: #00bcd4;
      --light-color: #f5f5f5;
      --dark-color: #212121;
      --success-color: #4caf50;
      --warning-color: #ff9800;
      --danger-color: #f44336;
    }
    
    body {
      font-family: 'Montserrat', 'Be Vietnam Pro', sans-serif;
      background-color: #f8f9fa;
      color: var(--dark-color);
      line-height: 1.6;
    }
    
    .navbar-brand {
      font-weight: 700;
      font-size: 1.5rem;
      color: var(--primary-color);
    }
    
    .hero-section {
      background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
      color: white;
      padding: 3rem 0;
      border-radius: 0 0 20px 20px;
      box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
      margin-bottom: 2rem;
    }
    
    .hero-title {
      font-weight: 700;
      font-size: 2.5rem;
      margin-bottom: 1rem;
    }
    
    .hero-subtitle {
      font-weight: 300;
      font-size: 1.2rem;
      opacity: 0.9;
    }
    
    .select-area {
      background-color: white;
      border-radius: 10px;
      padding: 2rem;
      box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
      margin-bottom: 2rem;
    }
    
    .select-title {
      font-weight: 600;
      color: var(--primary-color);
      margin-bottom: 1.5rem;
      text-align: center;
      font-size: 1.3rem;
    }
    
    .form-select {
      border: 2px solid var(--primary-color);
      border-radius: 8px;
      padding: 0.75rem 1.5rem;
      font-weight: 500;
    }
    
    .form-select:focus {
      border-color: var(--accent-color);
      box-shadow: 0 0 0 0.25rem rgba(0, 188, 212, 0.25);
    }
    
    .result-section {
      background-color: white;
      border-radius: 10px;
      padding: 2rem;
      box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
      margin-bottom: 2rem;
    }
    
    .area-title {
      font-weight: 700;
      color: var(--primary-color);
      font-size: 1.5rem;
      margin-bottom: 1.5rem;
      display: flex;
      align-items: center;
    }
    
    .area-title i {
      margin-right: 10px;
      color: var(--accent-color);
    }
    
    table {
      width: 100%;
      border-collapse: separate;
      border-spacing: 0;
      border-radius: 10px;
      overflow: hidden;
      box-shadow: 0 0 20px rgba(0, 0, 0, 0.05);
    }
    
    th {
      background-color: var(--primary-color);
      color: white;
      font-weight: 600;
      padding: 1rem;
      text-align: center;
    }
    
    td {
      padding: 1rem;
      border-bottom: 1px solid #eee;
      text-align: center;
    }
    
    tr:nth-child(even) {
      background-color: #f9f9f9;
    }
    
    tr:hover {
      background-color: #f1f1f1;
    }
    
    .notification-card {
      background: linear-gradient(135deg, var(--secondary-color), var(--primary-color));
      color: white;
      border-radius: 10px;
      padding: 1.5rem;
      margin-bottom: 2rem;
      box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
    }
    
    .notification-title {
      font-weight: 700;
      font-size: 1.2rem;
      margin-bottom: 1rem;
      display: flex;
      align-items: center;
    }
    
    .notification-title i {
      margin-right: 10px;
      color: var(--accent-color);
    }
    
    .weather-card {
      background-color: white;
      border-radius: 10px;
      padding: 2rem;
      box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
      margin-bottom: 2rem;
    }
    
    .weather-title {
      font-weight: 700;
      color: var(--primary-color);
      font-size: 1.5rem;
      margin-bottom: 1.5rem;
      border-bottom: 2px solid var(--accent-color);
      padding-bottom: 0.5rem;
    }
    
    .forecast-card {
      background-color: white;
      border-radius: 10px;
      padding: 1.5rem;
      box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
      text-align: center;
      transition: transform 0.3s ease;
      height: 100%;
    }
    
    .forecast-card:hover {
      transform: translateY(-5px);
      box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1);
    }
    
    .forecast-day {
      font-weight: 600;
      color: var(--primary-color);
      margin-bottom: 1rem;
    }
    
    .forecast-icon {
      width: 60px;
      height: 60px;
      margin: 0 auto 1rem;
    }
    
    .forecast-temp {
      font-weight: 700;
      font-size: 1.2rem;
      color: var(--dark-color);
    }
    
    .forecast-status {
      color: var(--secondary-color);
      font-weight: 500;
    }
    
    .btn-download {
      background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
      color: white;
      border: none;
      border-radius: 8px;
      padding: 0.75rem 1.5rem;
      font-weight: 600;
      transition: all 0.3s ease;
      display: inline-flex;
      align-items: center;
      justify-content: center;
    }
    
    .btn-download:hover {
      background: linear-gradient(135deg, var(--secondary-color), var(--primary-color));
      color: white;
      transform: translateY(-2px);
      box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
    }
    
    .btn-download i {
      margin-right: 8px;
    }
    
    .support-info {
      text-align: center;
      margin: 2rem 0;
      color: var(--dark-color);
    }
    
    .support-number {
      font-weight: 700;
      color: var(--danger-color);
      font-size: 1.2rem;
    }
    
    footer {
      background-color: var(--dark-color);
      color: white;
      padding: 2rem 0;
      margin-top: 3rem;
    }
    
    .footer-title {
      font-weight: 700;
      font-size: 1.2rem;
      margin-bottom: 1rem;
    }
    
    .footer-text {
      opacity: 0.8;
      font-size: 0.9rem;
    }
    
    .loading-spinner {
      display: flex;
      justify-content: center;
      align-items: center;
      padding: 2rem;
    }
    
    .spinner {
      width: 3rem;
      height: 3rem;
      border: 5px solid #f3f3f3;
      border-top: 5px solid var(--accent-color);
      border-radius: 50%;
      animation: spin 1s linear infinite;
    }
    
    @keyframes spin {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }
    
    /* Responsive adjustments */
    @media (max-width: 768px) {
      .hero-title {
        font-size: 2rem;
      }
      
      .hero-subtitle {
        font-size: 1rem;
      }
      
      .select-title {
        font-size: 1.1rem;
      }
      
      .area-title, .weather-title {
        font-size: 1.3rem;
      }
    }
  </style>
</head>

<body>
  <!-- Navigation -->
  <nav class="navbar navbar-expand-lg navbar-light bg-white shadow-sm">
    <div class="container">
      <a class="navbar-brand" href="#">
        <i class="fas fa-bolt me-2"></i>Lịch Cúp Điện AG
      </a>
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbarNav">
        <ul class="navbar-nav ms-auto">
          <li class="nav-item">
            <a class="nav-link active" href="#"><i class="fas fa-home me-1"></i> Trang chủ</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="#"><i class="fas fa-info-circle me-1"></i> Thông tin</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="#"><i class="fas fa-phone-alt me-1"></i> Liên hệ</a>
          </li>
        </ul>
      </div>
    </div>
  </nav>

  <!-- Hero Section -->
  <section class="hero-section">
    <div class="container text-center">
      <h1 class="hero-title">LỊCH CÚP ĐIỆN AN GIANG</h1>
      <p class="hero-subtitle">Cập nhật thông tin lịch tạm ngừng cung cấp điện mới nhất từ Điện lực An Giang</p>
    </div>
  </section>

  <div class="container">
    <!-- Select Area Section -->
    <section class="select-area">
      <h2 class="select-title"><i class="fas fa-map-marker-alt me-2"></i>CHỌN KHU VỰC CỦA BẠN</h2>
      <div class="row justify-content-center">
        <div class="col-md-6">
          <select class="form-select form-select-lg" id="select">
            <option value='01' selected>Long Xuyên</option>
            <option value='02'>Châu Thành</option>
            <option value='03'>Chợ Mới</option>
            <option value='04'>Châu Đốc</option>
            <option value='05'>Tân Châu</option>
            <option value='06'>Thoại Sơn</option>
            <option value='07'>Châu Phú</option>
            <option value='08'>Phú Tân</option>
            <option value='09'>Tri Tôn</option>
            <option value='10'>Tịnh Biên</option>
          </select>
        </div>
      </div>
    </section>

    <!-- Result Section -->
    <div id="elementToCapture">
      <section class="result-section">
        <h3 class="area-title"><i class="fas fa-map-marked-alt"></i> <span id="khuvuc">Đang tải dữ liệu...</span></h3>
        
        <div class="notification-card">
          <div class="notification-title">
            <i class="fas fa-bell"></i> THÔNG BÁO QUAN TRỌNG
          </div>
          <div class="notification-content">
            <p>Lịch cúp điện có thể thay đổi tùy theo tình hình thực tế. Vui lòng theo dõi các thông báo mới nhất từ Điện lực An Giang.</p>
            <p class="mb-0"><small><i class="fas fa-clock me-1"></i> Cập nhật lần cuối: <span id="updateTime"></span></small></p>
          </div>
        </div>
        
        <div class="result-tbl">
          <div id="ketqua" class="loading-spinner">
            <div class="spinner"></div>
          </div>
        </div>
        
        <div class="support-info">
          <p>Gọi ngay tổng đài hỗ trợ điện lực tại số</p>
          <p class="support-number">1900 1006 hoặc 1900 9000</p>
        </div>
        
        <div class="text-center mt-4">
          <button class="btn btn-download" id="captureButton">
            <i class="fas fa-download me-2"></i> TẢI LỊCH CÚP ĐIỆN
          </button>
        </div>
      </section>
    </div>

    <!-- Weather Section -->
    <section class="weather-card">
      <h3 class="weather-title"><i class="fas fa-cloud-sun me-2"></i>THỜI TIẾT HIỆN TẠI</h3>
      
      <div class="row">
        <div class="col-md-6">
          <div class="d-flex align-items-center mb-4">
            <div class="me-3">
              <h4 class="mb-0" id="location">An Giang</h4>
              <p class="text-muted mb-0" id="currentDate"></p>
            </div>
            <div class="ms-auto text-end">
              <h2 class="mb-0" id="temperature">32°C</h2>
              <p class="text-muted mb-0" id="status">Nắng</p>
            </div>
          </div>
          
          <div class="row">
            <div class="col-6 mb-3">
              <p class="mb-1"><i class="fas fa-temperature-low me-2"></i> Cảm giác như</p>
              <h5 id="feelsLike">34°C</h5>
            </div>
            <div class="col-6 mb-3">
              <p class="mb-1"><i class="fas fa-tint me-2"></i> Độ ẩm</p>
              <h5 id="humidity">65%</h5>
            </div>
            <div class="col-6 mb-3">
              <p class="mb-1"><i class="fas fa-eye me-2"></i> Tầm nhìn</p>
              <h5 id="visibility">10 km</h5>
            </div>
            <div class="col-6 mb-3">
              <p class="mb-1"><i class="fas fa-wind me-2"></i> Gió</p>
              <h5 id="wind">12 km/h</h5>
            </div>
          </div>
        </div>
        
        <div class="col-md-6">
          <div class="row">
            <div class="col-6 mb-3">
              <p class="mb-1"><i class="fas fa-sun me-2"></i> Bình minh</p>
              <h5 id="sunrise">05:45</h5>
            </div>
            <div class="col-6 mb-3">
              <p class="mb-1"><i class="fas fa-moon me-2"></i> Hoàng hôn</p>
              <h5 id="sunset">18:20</h5>
            </div>
            <div class="col-6 mb-3">
              <p class="mb-1"><i class="fas fa-sun me-2"></i> Chỉ số UV</p>
              <h5 id="UV">8 (Cao)</h5>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Weather Forecast -->
    <section class="weather-card">
      <h3 class="weather-title"><i class="fas fa-calendar-alt me-2"></i>DỰ BÁO THỜI TIẾT</h3>
      <div class="row" id="forecast">
        <!-- Forecast cards will be inserted here -->
      </div>
    </section>
  </div>

  <!-- Footer -->
  <footer>
    <div class="container">
      <div class="row">
        <div class="col-md-6">
          <h4 class="footer-title"><i class="fas fa-bolt me-2"></i>Lịch Cúp Điện An Giang</h4>
          <p class="footer-text">Cung cấp thông tin lịch cúp điện chính xác và cập nhật nhất từ Điện lực An Giang.</p>
        </div>
        <div class="col-md-3">
          <h4 class="footer-title">Liên kết</h4>
          <ul class="list-unstyled">
            <li><a href="#" class="text-white">Trang chủ</a></li>
            <li><a href="#" class="text-white">Thông tin</a></li>
            <li><a href="#" class="text-white">Liên hệ</a></li>
          </ul>
        </div>
        <div class="col-md-3">
          <h4 class="footer-title">Hỗ trợ</h4>
          <ul class="list-unstyled">
            <li><i class="fas fa-phone-alt me-2"></i> 1900 1006</li>
            <li><i class="fas fa-phone-alt me-2"></i> 1900 9000</li>
          </ul>
        </div>
      </div>
      <hr class="my-4 bg-light">
      <div class="text-center">
        <p class="mb-0 footer-text">© 2024 Lịch Cúp Điện An Giang. Tất cả quyền được bảo lưu.</p>
      </div>
    </div>
  </footer>

  <!-- Bootstrap JS -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
  
  <!-- html2canvas -->
  <script async src="html2canvas.min.js"></script>

  <script>
    document.addEventListener('DOMContentLoaded', function() {
      // Set current date in notification
      const now = new Date();
      document.getElementById('updateTime').textContent = now.toLocaleString('vi-VN', {
        day: '2-digit',
        month: '2-digit',
        year: 'numeric',
        hour: '2-digit',
        minute: '2-digit'
      });
      
      // Set default value for select
      document.getElementById('select').value = '01';
      loadData();

      // Handle select change event
      document.getElementById('select').addEventListener('change', function() {
        document.getElementById('ketqua').innerHTML = '<div class="loading-spinner"><div class="spinner"></div></div>';
        setTimeout(function() {
          loadData();
        }, 1000);
      });

      function loadData() {
        const selectElement = document.getElementById('select');
        const selectedText = selectElement.options[selectElement.selectedIndex].text;
        const selectedValue = selectElement.value;
        const url = '//lcd.hieunotes-tn.workers.dev/?mdv=' + selectedValue;

        // Show loading state
        document.getElementById('khuvuc').textContent = selectedText;
       
        setTimeout(function() {
          fetch(url)
            .then(response => response.text())
            .then(data => {
              if (data && data.trim() !== "") {
                document.getElementById('ketqua').innerHTML = data;
              } else {
                document.getElementById('ketqua').innerHTML = `
                  <div class="alert alert-warning text-center">
                    <i class="fas fa-exclamation-triangle me-2"></i> Không có dữ liệu khả dụng cho khu vực này.
                  </div>
                `;
              }
            })
            .catch(() => {
              document.getElementById('ketqua').innerHTML = `
                <div class="alert alert-danger text-center">
                  <i class="fas fa-exclamation-circle me-2"></i> Không thể tải dữ liệu. Vui lòng thử lại sau.
                </div>
              `;
            });
        }, 1500);
      }
      
      // Capture button functionality
      document.getElementById('captureButton').addEventListener('click', function() {
        this.innerHTML = '<i class="fas fa-spinner fa-spin me-2"></i> ĐANG XỬ LÝ...';
        this.disabled = true;
        
        html2canvas(document.getElementById('elementToCapture'), {
          scale: 2,
          backgroundColor: '#ffffff'
        }).then(function(canvas) {
          var randomNumber = Math.floor(Math.random() * 100000);
          var randomFileName = 'Lich-cup-dien-' + randomNumber + '.png';
          var link = document.createElement('a');
          link.href = canvas.toDataURL();
          link.download = randomFileName;
          link.click();
          
          document.getElementById('captureButton').innerHTML = '<i class="fas fa-download me-2"></i> TẢI LỊCH CÚP ĐIỆN';
          document.getElementById('captureButton').disabled = false;
        });
      });
      
      // Load weather data
      const weatherUrl = 'https://weather.hieunotes-tn.workers.dev/';
      
      fetch(weatherUrl)
        .then(response => response.json())
        .then(data => {
          const weatherData = data.Data;
          
          // Display current weather
          document.getElementById("location").innerText = weatherData.data.datainfo.location;
          document.getElementById("currentDate").innerText = weatherData.data.datainfo.currentDate;
          document.getElementById("temperature").innerText = weatherData.data.datainfo.temperature;
          document.getElementById("feelsLike").innerText = weatherData.data.datainfo.feels_like;
          document.getElementById("humidity").innerText = weatherData.data.datainfo.humidity;
          document.getElementById("status").innerText = weatherData.data.datainfo.status;
          document.getElementById("visibility").innerText = `${weatherData.data.datainfo.visibility.index} ${weatherData.data.datainfo.visibility.unit}`;
          document.getElementById("wind").innerText = `${weatherData.data.datainfo.wind.index} ${weatherData.data.datainfo.wind.unit}`;
          document.getElementById("UV").innerText = `${weatherData.data.datainfo.UV_index.index} (${weatherData.data.datainfo.UV_index.status})`;
          document.getElementById("sunrise").innerText = weatherData.data.datainfo.sunrise;
          document.getElementById("sunset").innerText = weatherData.data.datainfo.sunset;

          // Display forecast
          const forecastContainer = document.getElementById("forecast");
          const forecastData = weatherData.data.datainfo.forecast;

          forecastData.forEach(day => {
            const forecastCard = `
              <div class="col-md-3 mb-3">
                <div class="forecast-card">
                  <h4 class="forecast-day">${day.forecastDate}</h4>
                  <img src="${day.shadow_icon}" class="forecast-icon" alt="${day.status}">
                  <div class="forecast-temp">${day.low}°C - ${day.high}°C</div>
                  <div class="forecast-status">${day.status}</div>
                </div>
              </div>
            `;
            forecastContainer.insertAdjacentHTML('beforeend', forecastCard);
          });
        })
        .catch(error => {
          console.error('Có lỗi xảy ra khi tải dữ liệu thời tiết:', error);
          document.getElementById("location").innerText = "Không thể tải dữ liệu thời tiết";
        });
    });
  </script>

  <!-- Cloudflare Web Analytics -->
  <script defer src='https://static.cloudflareinsights.com/beacon.min.js' data-cf-beacon='{"token": "6dbbdf5abf554fb4bfb95964a7595858"}'></script>
</body>
</html>
